<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Chess.. ly</title>
</head>
<body>
	<div class="container-fluid main">
		<div class="row">
			<div class="col-md-12">{{> loginButtons}}</div>
		</div>
		<div class="row">
			<div class="col-md-3 game-control-buttons">{{> gameControlButtons}}</div>
			<div class="col-md-1"></div>
			<div class="col-md-4" id='board'>{{> board}}</div>
			<div class="col-md-1"></div>
			<div class="col-md-3 challenge-list">{{> challenges}}</div>
		</div>
	</div>
</body>

<template name='board'>
	{{currentGame}}
</template>

<template name='challenges'>
	
	<label for="open-challenges">Open Challenges<span class="badge challenge-count">
		{{openChallengeCount}}</span>
	</label>
	<ul class="open-challenges">
		{{#each directChallenges}}
			<li class='challenge directChallenge'>Challenge From: {{directChallengerUsername}}</li>
		{{/each}}
		{{#each openChallenges}}
			<li class='challenge openChallenge {{#if ownChallenge}}own-challenge{{/if}}'>
			{{username}}

			{{#if ownChallenge}} 
				{{> deleteButton}}
			{{/if}}
			</li>
		{{/each}}
	</ul>
</template>

<template name='challenge'>
	<li class='challenge directChallenge'>Challenge from: {{challenger}}</li>
</template>

<template name='gameControlButtons'>
	{{#if currentUser}}
		<button class='btn btn-primary createNewBoard game-control-button'>New Board</button>
		
		<button class='btn btn-info createNewChallenge game-control-button'>Post New Challenge</button>
		<button class='btn btn-success game-control-button' data-toggle='collapse' data-target='#inviteFriendInfo' aria-expanded='false' aria-controls='inviteFriendInfo'>Invite To Game</button>

		<div class="collapse" id="inviteFriendInfo">
		  <form class='form-group inviteToGame'>
		  	<div class="input-group">
			    <input class='form-control' placeholder='Enter a Username'>
			    <span class="input-group-addon" id="basic-addon1">
			    	<i class="fa fa-send-o"></i>
			    </span>
		    </div>
		  </form>
		</div>
	{{/if}}
</template>

<template name='deleteButton'>
	<i class='fa fa-remove fa-lg removeItem remove-item'></i>
</template>
