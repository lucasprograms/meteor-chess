<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Chess.. ly</title>
</head>
<body>
	<div class="container-fluid main">
		<div class="row">
			<div class="col-md-12">{{> loginButtons}}</div>
		</div>
		<div class="row">
			<div class="col-md-2 game-control-buttons">{{> gameControlButtons}}</div>
			<div class="col-md-1"></div>
			<div class="col-md-4" id='board'>{{> board}}</div>
			<div class="col-md-1"></div>
			<div class="col-md-3 challenge-list">{{> challenges}}</div>
			<div class="col-md-1"></div>
		</div>
	</div>
</body>

<template name='board'>
	{{currentGame}}
</template>

<template name='challenges'>
	<label for="open-challenges">Open Challenges<span class="badge">
		{{openChallengeCount}}</span>
	</label>
	<ul class="open-challenges">
		{{#each openChallenges}}
			<li class='open-challenge openChallenge {{#if ownChallenge}}own-challenge{{/if}}'>
			{{username}}

			{{#if ownChallenge}} 
				{{> deleteButton}}
			{{/if}}
			</li>
		{{/each}}
	</ul>
</template>

<template name='gameControlButtons'>
	{{#if currentUser}}
		<button class='btn btn-primary createNewBoard game-control-button'>New Board</button>
		
		<button class='btn btn-info createNewChallenge game-control-button'>Post New Challenge</button>
		<button class='btn btn-success inviteFriendToGame game-control-button'>Invite To Game</button>
	{{/if}}
</template>

<template name='deleteButton'>
	<i class='fa fa-remove fa-lg removeItem remove-item'></i>
</template>
